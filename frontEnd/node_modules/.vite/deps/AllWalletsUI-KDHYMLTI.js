"use client";
import {
  wallet_infos_default
} from "./chunk-RDYRRVTD.js";
import {
  Fuse,
  sortWallets,
  useDebouncedValue,
  useShowMore
} from "./chunk-V6YGPRLZ.js";
import {
  WalletEntryButton
} from "./chunk-SHABKKZR.js";
import {
  Input,
  Spinner,
  useSetSelectionData
} from "./chunk-2755FUD5.js";
import "./chunk-JPZW4FOA.js";
import {
  Container,
  CrossCircledIcon,
  MagnifyingGlassIcon,
  ModalHeader,
  Spacer,
  Text,
  iconSize,
  newStyled,
  spacing,
  useCustomTheme
} from "./chunk-WOF5MGUW.js";
import "./chunk-RMLEFI72.js";
import {
  createWallet
} from "./chunk-PKPPFIQW.js";
import "./chunk-E2DOQKS2.js";
import "./chunk-57DFWRZ3.js";
import "./chunk-3MCYWU5O.js";
import "./chunk-5R32MHFT.js";
import "./chunk-X54FPRZI.js";
import "./chunk-7XC4GPHZ.js";
import "./chunk-5E5FQUOC.js";
import "./chunk-M7XADWCR.js";
import "./chunk-UX72VVBB.js";
import "./chunk-YHAJC2I7.js";
import "./chunk-P4YNF73V.js";
import "./chunk-KE6XTC6J.js";
import "./chunk-LZH3KM55.js";
import "./chunk-ID6VDAA3.js";
import "./chunk-RIKVLZUS.js";
import "./chunk-SYURM43K.js";
import "./chunk-ZB7K7FRF.js";
import "./chunk-OULA2JUL.js";
import "./chunk-OSZAYZBM.js";
import "./chunk-PZWOPBWI.js";
import "./chunk-HAADYJEF.js";
import "./chunk-SY6M73X4.js";
import "./chunk-V4R6W4TB.js";
import "./chunk-FPO5TL63.js";
import "./chunk-BF6IWIHR.js";
import "./chunk-4OMQ45VH.js";
import "./chunk-KFTJWVLQ.js";
import "./chunk-7IZG4EP5.js";
import "./chunk-3UYCMIWJ.js";
import "./chunk-UV67MG5D.js";
import "./chunk-JMJMW6FX.js";
import "./chunk-CY3CMUVN.js";
import "./chunk-BNK74YTA.js";
import "./chunk-GDDTQ4UI.js";
import "./chunk-IAQW7B5J.js";
import "./chunk-Z2F5LG57.js";
import "./chunk-L46BJXKD.js";
import "./chunk-EWAXOTDC.js";
import "./chunk-TEQAYQEZ.js";
import "./chunk-TT4DF327.js";
import "./chunk-SYYDPSNZ.js";
import "./chunk-MHFR2GDE.js";
import "./chunk-SUMWJFR6.js";
import "./chunk-EZ4JTQAA.js";
import "./chunk-SHWHM7JY.js";
import "./chunk-EQCCHGRT.js";
import "./chunk-BS5EKVYB.js";
import {
  require_jsx_runtime
} from "./chunk-6PF5PHNV.js";
import {
  require_react
} from "./chunk-7SNDHR3H.js";
import {
  __toESM
} from "./chunk-256EKJAK.js";

// node_modules/thirdweb/dist/esm/react/web/ui/ConnectWallet/Modal/AllWalletsUI.js
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);
function AllWalletsUI(props) {
  const { itemsToShow, lastItemRef } = useShowMore(10, 10);
  const setSelectionData = useSetSelectionData();
  const walletList = (0, import_react.useMemo)(() => {
    return wallet_infos_default.filter((wallet) => {
      return props.specifiedWallets.findIndex((x) => x.id === wallet.id) === -1;
    });
  }, [props.specifiedWallets]);
  const fuseInstance = (0, import_react.useMemo)(() => {
    return new Fuse(walletList, {
      threshold: 0.4,
      keys: [
        {
          name: "name",
          weight: 1
        }
      ]
    });
  }, [walletList]);
  const listContainer = (0, import_react.useRef)(null);
  const [searchTerm, setSearchTerm] = (0, import_react.useState)("");
  const deferredSearchTerm = useDebouncedValue(searchTerm, 300);
  const searchResults = deferredSearchTerm ? fuseInstance.search(deferredSearchTerm).map((result) => result.item) : walletList;
  const walletInfosToShow = (0, import_react.useMemo)(() => {
    return sortWallets(searchResults.slice(0, itemsToShow));
  }, [searchResults, itemsToShow]);
  return (0, import_jsx_runtime.jsxs)(Container, { fullHeight: true, flex: "column", animate: "fadein", children: [(0, import_jsx_runtime.jsx)(Container, { p: "lg", children: (0, import_jsx_runtime.jsx)(ModalHeader, { title: "Select Wallet", onBack: props.onBack }) }), (0, import_jsx_runtime.jsx)(Spacer, { y: "xs" }), (0, import_jsx_runtime.jsx)(Container, { px: "lg", children: (0, import_jsx_runtime.jsxs)("div", { style: {
    display: "flex",
    alignItems: "center",
    position: "relative"
  }, children: [(0, import_jsx_runtime.jsx)(StyledMagnifyingGlassIcon, { width: iconSize.md, height: iconSize.md }), (0, import_jsx_runtime.jsx)(Input, { style: {
    padding: `${spacing.sm} ${spacing.md} ${spacing.sm} ${spacing.xxl}`
  }, tabIndex: -1, variant: "outline", placeholder: "Search Wallet", value: searchTerm, onChange: (e) => {
    var _a, _b;
    (_b = (_a = listContainer.current) == null ? void 0 : _a.parentElement) == null ? void 0 : _b.scroll({
      top: 0
    });
    setSearchTerm(e.target.value);
  } }), deferredSearchTerm !== searchTerm && (0, import_jsx_runtime.jsx)("div", { style: {
    position: "absolute",
    right: spacing.md
  }, children: (0, import_jsx_runtime.jsx)(Spinner, { size: "md", color: "accentText" }) })] }) }), walletInfosToShow.length > 0 && (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [(0, import_jsx_runtime.jsx)(Spacer, { y: "md" }), (0, import_jsx_runtime.jsxs)(Container, { animate: "fadein", expand: true, scrollY: true, children: [(0, import_jsx_runtime.jsx)("div", { ref: listContainer, style: {
    maxHeight: props.size === "compact" ? "400px" : void 0,
    paddingInline: spacing.md
  }, children: walletInfosToShow.map((walletInfo, i) => {
    const isLast = i === walletInfosToShow.length - 1;
    return (0, import_jsx_runtime.jsx)("li", { ref: isLast ? lastItemRef : void 0, style: {
      listStyle: "none"
    }, children: (0, import_jsx_runtime.jsx)(WalletEntryButton, { walletId: walletInfo.id, selectWallet: () => {
      const wallet = createWallet(walletInfo.id);
      props.onSelect(wallet);
      setSelectionData({});
    }, client: props.client, recommendedWallets: props.recommendedWallets, connectLocale: props.connectLocale, isActive: false, badge: void 0 }) }, walletInfo.id);
  }) }), (0, import_jsx_runtime.jsx)(Spacer, { y: "xl" })] })] }), walletInfosToShow.length === 0 && (0, import_jsx_runtime.jsxs)(Container, { flex: "column", gap: "md", center: "both", color: "secondaryText", animate: "fadein", expand: true, style: {
    minHeight: "250px"
  }, children: [(0, import_jsx_runtime.jsx)(CrossCircledIcon, { width: iconSize.xl, height: iconSize.xl }), (0, import_jsx_runtime.jsx)(Text, { children: " No Results " })] })] });
}
var StyledMagnifyingGlassIcon = newStyled(MagnifyingGlassIcon)((_) => {
  const theme = useCustomTheme();
  return {
    color: theme.colors.secondaryText,
    position: "absolute",
    left: spacing.sm
  };
});
var AllWalletsUI_default = AllWalletsUI;
export {
  AllWalletsUI_default as default
};
//# sourceMappingURL=AllWalletsUI-KDHYMLTI.js.map
